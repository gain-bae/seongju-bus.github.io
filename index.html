<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>성주읍 순환버스 안내</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
  <main class="container">
    <h1>성주읍 순환버스</h1>
    <p>언어를 선택하고 노선을 고르세요.</p>

    <label for="lang">언어</label>
    <select id="lang">
      <option value="ko">한국어</option>
      <option value="en">English</option>
      <option value="zh">中文</option>
      <option value="vi">Tiếng Việt</option>
      <option value="th">ไทย</option>
      <option value="tl">Tagalog</option>
      <option value="km">Khmer</option>
    </select>

    <label for="route">노선</label>
    <select id="route">
      <option value="1">순환1번</option>
      <option value="2">순환2번</option>
      <option value="3">순환3번</option>
      <option value="3">순환4번</option>
    </select>

    <button id="open">확인</button>

    <footer class="small">QR로 접속 시 자동으로 노선 파라미터(route=1 등)가 붙습니다.</footer>
  </main>

<script>
document.getElementById('open').addEventListener('click', () => {
  const lang = document.getElementById('lang').value;
  const route = document.getElementById('route').value;
  location.href = `route.html?route=${encodeURIComponent(route)}&lang=${encodeURIComponent(lang)}`;
});

const params = new URLSearchParams(location.search);
if (params.get('route')) {
  const r = params.get('route');
  const l = params.get('lang') || 'ko';
  location.href = `route.html?route=${encodeURIComponent(r)}&lang=${encodeURIComponent(l)}`;
}
</script>
</body>
</html>
